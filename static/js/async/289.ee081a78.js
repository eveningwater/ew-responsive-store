"use strict";(self.webpackChunkew_responsive_store_docs=self.webpackChunkew_responsive_store_docs||[]).push([["289"],{1790:function(e,n,r){r.r(n),r.d(n,{default:()=>d});var s=r(2676),t=r(453);function i(e){let n=Object.assign({h1:"h1",a:"a",h2:"h2",p:"p",code:"code",h3:"h3",pre:"pre",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td",ul:"ul",li:"li"},(0,t.ah)(),e.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.h1,{id:"api-reference",children:["API Reference",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#api-reference",children:"#"})]}),"\n",(0,s.jsxs)(n.h2,{id:"usestorage-vue",children:["useStorage (Vue)",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#usestorage-vue",children:"#"})]}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"useStorage"})," function is the core API of the ",(0,s.jsx)(n.code,{children:"ew-responsive-store"})," library. It allows you to create reactive state that is synchronized with browser storage (localStorage or sessionStorage)."]}),"\n",(0,s.jsxs)(n.h3,{id:"type-definition",children:["Type Definition",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#type-definition",children:"#"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"function useStorage<T>(\n  key: string,\n  initialValue: T,\n  options: StoreOptions = {\n    storage: StoreType.LOCAL,\n    immediate: true,\n    deep: true,\n  }\n): Ref<T>;\n"})}),"\n",(0,s.jsxs)(n.h3,{id:"parameters",children:["Parameters",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#parameters",children:"#"})]}),"\n",(0,s.jsxs)(n.table,{children:["\n",(0,s.jsxs)(n.thead,{children:["\n",(0,s.jsxs)(n.tr,{children:["\n",(0,s.jsx)(n.th,{children:"Parameter"}),"\n",(0,s.jsx)(n.th,{children:"Type"}),"\n",(0,s.jsx)(n.th,{children:"Description"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.tbody,{children:["\n",(0,s.jsxs)(n.tr,{children:["\n",(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"key"})}),"\n",(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"string"})}),"\n",(0,s.jsx)(n.td,{children:"The key to use for storing the value in storage"}),"\n"]}),"\n",(0,s.jsxs)(n.tr,{children:["\n",(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"initialValue"})}),"\n",(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"T"})}),"\n",(0,s.jsx)(n.td,{children:"The initial value to use if no value is found in storage"}),"\n"]}),"\n",(0,s.jsxs)(n.tr,{children:["\n",(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"options"})}),"\n",(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"StoreOptions"})}),"\n",(0,s.jsx)(n.td,{children:"Configuration options (optional)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.h3,{id:"options",children:["Options",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#options",children:"#"})]}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"options"})," parameter accepts the following properties:"]}),"\n",(0,s.jsxs)(n.table,{children:["\n",(0,s.jsxs)(n.thead,{children:["\n",(0,s.jsxs)(n.tr,{children:["\n",(0,s.jsx)(n.th,{children:"Property"}),"\n",(0,s.jsx)(n.th,{children:"Type"}),"\n",(0,s.jsx)(n.th,{children:"Default"}),"\n",(0,s.jsx)(n.th,{children:"Description"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.tbody,{children:["\n",(0,s.jsxs)(n.tr,{children:["\n",(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"storage"})}),"\n",(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"StoreType"})}),"\n",(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"StoreType.LOCAL"})}),"\n",(0,s.jsxs)(n.td,{children:["The storage type to use (",(0,s.jsx)(n.code,{children:"localStorage"})," or ",(0,s.jsx)(n.code,{children:"sessionStorage"}),")"]}),"\n"]}),"\n",(0,s.jsxs)(n.tr,{children:["\n",(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"deep"})}),"\n",(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"boolean"})}),"\n",(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"true"})}),"\n",(0,s.jsx)(n.td,{children:"Whether to deeply watch the state for changes"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Additionally, all Vue watch options are supported, as ",(0,s.jsx)(n.code,{children:"StoreOptions"})," extends ",(0,s.jsx)(n.code,{children:"WatchOptions"})," from Vue."]}),"\n",(0,s.jsxs)(n.h3,{id:"returns",children:["Returns",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#returns",children:"#"})]}),"\n",(0,s.jsxs)(n.p,{children:["A reactive ",(0,s.jsx)(n.code,{children:"Ref<T>"})," that is synchronized with the specified storage."]}),"\n",(0,s.jsxs)(n.h3,{id:"example",children:["Example",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#example",children:"#"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:'import { useStorage } from "ew-responsive-store";\nimport { StoreType } from "ew-responsive-store/typings/core/enum";\n\n// Basic usage with localStorage\nconst count = useStorage("count", 0);\n\n// Using sessionStorage\nconst user = useStorage(\n  "user",\n  { name: "John" },\n  { storage: StoreType.SESSION }\n);\n\n// Disabling deep watching\nconst list = useStorage("list", [1, 2, 3], { deep: false });\n\n// Disabling immediate effect\nconst settings = useStorage(\n  "settings",\n  { theme: "dark" },\n  { immediate: false }\n);\n'})}),"\n",(0,s.jsxs)(n.h2,{id:"usereactstorage-react--001-beta7",children:["useReactStorage (React)--(0.0.1-beta.7)",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#usereactstorage-react--001-beta7",children:"#"})]}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"useReactStorage"})," function is designed specifically for React applications. It provides a React-native way to manage state that is synchronized with browser storage."]}),"\n",(0,s.jsxs)(n.h3,{id:"type-definition-1",children:["Type Definition",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#type-definition-1",children:"#"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"function useReactStorage<T>(\n  key: string,\n  initialValue: T,\n  options: ReactStoreOptions = {\n    storage: StoreType.LOCAL,\n  }\n): readonly [T, (newValue: T) => void];\n"})}),"\n",(0,s.jsxs)(n.h3,{id:"parameters-1",children:["Parameters",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#parameters-1",children:"#"})]}),"\n",(0,s.jsxs)(n.table,{children:["\n",(0,s.jsxs)(n.thead,{children:["\n",(0,s.jsxs)(n.tr,{children:["\n",(0,s.jsx)(n.th,{children:"Parameter"}),"\n",(0,s.jsx)(n.th,{children:"Type"}),"\n",(0,s.jsx)(n.th,{children:"Description"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.tbody,{children:["\n",(0,s.jsxs)(n.tr,{children:["\n",(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"key"})}),"\n",(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"string"})}),"\n",(0,s.jsx)(n.td,{children:"The key to use for storing the value in storage"}),"\n"]}),"\n",(0,s.jsxs)(n.tr,{children:["\n",(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"initialValue"})}),"\n",(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"T"})}),"\n",(0,s.jsx)(n.td,{children:"The initial value to use if no value is found in storage"}),"\n"]}),"\n",(0,s.jsxs)(n.tr,{children:["\n",(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"options"})}),"\n",(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"ReactStoreOptions"})}),"\n",(0,s.jsx)(n.td,{children:"Configuration options (optional)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.h3,{id:"options-1",children:["Options",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#options-1",children:"#"})]}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"options"})," parameter accepts the following properties:"]}),"\n",(0,s.jsxs)(n.table,{children:["\n",(0,s.jsxs)(n.thead,{children:["\n",(0,s.jsxs)(n.tr,{children:["\n",(0,s.jsx)(n.th,{children:"Property"}),"\n",(0,s.jsx)(n.th,{children:"Type"}),"\n",(0,s.jsx)(n.th,{children:"Default"}),"\n",(0,s.jsx)(n.th,{children:"Description"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.tbody,{children:["\n",(0,s.jsxs)(n.tr,{children:["\n",(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"storage"})}),"\n",(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"StoreType"})}),"\n",(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"StoreType.LOCAL"})}),"\n",(0,s.jsxs)(n.td,{children:["The storage type to use (",(0,s.jsx)(n.code,{children:"localStorage"})," or ",(0,s.jsx)(n.code,{children:"sessionStorage"}),")"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.h3,{id:"returns-1",children:["Returns",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#returns-1",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"A tuple containing:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"[0]"}),": The current value of type ",(0,s.jsx)(n.code,{children:"T"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"[1]"}),": A setter function to update the value"]}),"\n"]}),"\n",(0,s.jsxs)(n.h3,{id:"example-1",children:["Example",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#example-1",children:"#"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:'import React from \'react\';\nimport { useReactStorage, StoreType } from "ew-responsive-store";\n\nfunction Counter() {\n  // Basic usage with localStorage\n  const [count, setCount] = useReactStorage("count", 0);\n  \n  // Using sessionStorage\n  const [user, setUser] = useReactStorage(\n    "user",\n    { name: "John", age: 25 },\n    { storage: StoreType.SESSION }\n  );\n\n  // Complex data types\n  const [todos, setTodos] = useReactStorage("todos", [\n    { id: 1, text: "Learn React", completed: false },\n    { id: 2, text: "Learn TypeScript", completed: true }\n  ]);\n\n  const increment = () => setCount(count + 1);\n  const addTodo = (text: string) => {\n    setTodos([...todos, { \n      id: Date.now(), \n      text, \n      completed: false \n    }]);\n  };\n\n  return (\n    <div>\n      <p>Count: {count}</p>\n      <button onClick={increment}>Increment</button>\n      \n      <p>User: {user.name} ({user.age})</p>\n      <button onClick={() => setUser({ ...user, age: user.age + 1 })}>\n        Increase Age\n      </button>\n      \n      <div>\n        <h3>Todos:</h3>\n        {todos.map(todo => (\n          <div key={todo.id}>\n            <span style={{ textDecoration: todo.completed ? \'line-through\' : \'none\' }}>\n              {todo.text}\n            </span>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n'})}),"\n",(0,s.jsxs)(n.h3,{id:"cross-tab-synchronization",children:["Cross-tab Synchronization",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#cross-tab-synchronization",children:"#"})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"useReactStorage"})," automatically synchronizes data across browser tabs using the ",(0,s.jsx)(n.code,{children:"storage"})," event:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:'import { useReactStorage } from "ew-responsive-store";\n\nfunction App() {\n  const [theme, setTheme] = useReactStorage("theme", "light");\n  \n  // This will automatically update in other tabs when changed\n  const toggleTheme = () => {\n    setTheme(theme === "light" ? "dark" : "light");\n  };\n\n  return (\n    <div className={`app ${theme}`}>\n      <button onClick={toggleTheme}>\n        Switch to {theme === "light" ? "dark" : "light"} theme\n      </button>\n    </div>\n  );\n}\n'})}),"\n",(0,s.jsxs)(n.h3,{id:"error-handling",children:["Error Handling",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#error-handling",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"The hook will throw an error if storage is not available:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:'import { useReactStorage } from "ew-responsive-store";\n\nfunction SafeStorage() {\n  try {\n    const [data, setData] = useReactStorage("data", {});\n    return <div>Storage is available</div>;\n  } catch (error) {\n    return <div>Storage is not available: {error.message}</div>;\n  }\n}\n'})}),"\n",(0,s.jsxs)(n.h2,{id:"parsestr",children:["parseStr",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#parsestr",children:"#"})]}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"parseStr"})," function is a utility for parsing string values. It provides two parsing modes: ",(0,s.jsx)(n.code,{children:"EVAL"})," and ",(0,s.jsx)(n.code,{children:"JSON"}),"."]}),"\n",(0,s.jsxs)(n.h3,{id:"type-definition-2",children:["Type Definition",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#type-definition-2",children:"#"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"function parseStr<T>(\n  str: string,\n  type: parseStrType = parseStrType.JSON\n): T | null;\n"})}),"\n",(0,s.jsxs)(n.h3,{id:"parameters-2",children:["Parameters",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#parameters-2",children:"#"})]}),"\n",(0,s.jsxs)(n.table,{children:["\n",(0,s.jsxs)(n.thead,{children:["\n",(0,s.jsxs)(n.tr,{children:["\n",(0,s.jsx)(n.th,{children:"Parameter"}),"\n",(0,s.jsx)(n.th,{children:"Type"}),"\n",(0,s.jsx)(n.th,{children:"Description"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.tbody,{children:["\n",(0,s.jsxs)(n.tr,{children:["\n",(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"str"})}),"\n",(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"string"})}),"\n",(0,s.jsx)(n.td,{children:"The string to parse"}),"\n"]}),"\n",(0,s.jsxs)(n.tr,{children:["\n",(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"type"})}),"\n",(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"parseStrType"})}),"\n",(0,s.jsxs)(n.td,{children:["The parsing method to use (",(0,s.jsx)(n.code,{children:"JSON"})," or ",(0,s.jsx)(n.code,{children:"EVAL"}),")"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.h3,{id:"returns-2",children:["Returns",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#returns-2",children:"#"})]}),"\n",(0,s.jsxs)(n.p,{children:["The parsed value of type ",(0,s.jsx)(n.code,{children:"T"}),", or ",(0,s.jsx)(n.code,{children:"null"})," if parsing fails."]}),"\n",(0,s.jsxs)(n.h3,{id:"example-2",children:["Example",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#example-2",children:"#"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:'import { parseStr } from "ew-responsive-store";\nimport { parseStrType } from "ew-responsive-store/typings/core/enum";\n\n// Parse JSON\nconst data = parseStr<{ name: string }>(\'{ "name": "John" }\');\n// Result: { name: \'John\' }\n\n// Execute JavaScript code\nconst result = parseStr<number>("1 + 2", parseStrType.EVAL);\n// Result: 3\n'})}),"\n",(0,s.jsxs)(n.h2,{id:"utility-functions",children:["Utility Functions",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#utility-functions",children:"#"})]}),"\n",(0,s.jsxs)(n.h3,{id:"isvalidjson",children:["isValidJSON",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#isvalidjson",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"Checks if a string is valid JSON."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"function isValidJSON(val: string): boolean;\n"})}),"\n",(0,s.jsxs)(n.h3,{id:"isstorageenabled",children:["isStorageEnabled",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#isstorageenabled",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"Checks if a storage type is enabled in the current environment."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"function isStorageEnabled(storage: Storage): boolean;\n"})}),"\n",(0,s.jsxs)(n.h2,{id:"enums",children:["Enums",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#enums",children:"#"})]}),"\n",(0,s.jsxs)(n.h3,{id:"storetype",children:["StoreType",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#storetype",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"Defines the available storage types."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:'enum StoreType {\n  LOCAL = "localStorage",\n  SESSION = "sessionStorage",\n}\n'})}),"\n",(0,s.jsxs)(n.h3,{id:"parsestrtype",children:["parseStrType",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#parsestrtype",children:"#"})]}),"\n",(0,s.jsxs)(n.p,{children:["Defines the available parsing methods for ",(0,s.jsx)(n.code,{children:"parseStr"}),"."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:'enum parseStrType {\n  EVAL = "eval",\n  JSON = "json",\n}\n'})})]})}function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,t.ah)(),e.components);return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(i,{...e})}):i(e)}let d=a;a.__RSPRESS_PAGE_META={},a.__RSPRESS_PAGE_META["en%2Fapi%2Findex.md"]={toc:[{text:"useStorage (Vue)",id:"usestorage-vue",depth:2},{text:"Type Definition",id:"type-definition",depth:3},{text:"Parameters",id:"parameters",depth:3},{text:"Options",id:"options",depth:3},{text:"Returns",id:"returns",depth:3},{text:"Example",id:"example",depth:3},{text:"useReactStorage (React)--(0.0.1-beta.7)",id:"usereactstorage-react--001-beta7",depth:2},{text:"Type Definition",id:"type-definition-1",depth:3},{text:"Parameters",id:"parameters-1",depth:3},{text:"Options",id:"options-1",depth:3},{text:"Returns",id:"returns-1",depth:3},{text:"Example",id:"example-1",depth:3},{text:"Cross-tab Synchronization",id:"cross-tab-synchronization",depth:3},{text:"Error Handling",id:"error-handling",depth:3},{text:"parseStr",id:"parsestr",depth:2},{text:"Type Definition",id:"type-definition-2",depth:3},{text:"Parameters",id:"parameters-2",depth:3},{text:"Returns",id:"returns-2",depth:3},{text:"Example",id:"example-2",depth:3},{text:"Utility Functions",id:"utility-functions",depth:2},{text:"isValidJSON",id:"isvalidjson",depth:3},{text:"isStorageEnabled",id:"isstorageenabled",depth:3},{text:"Enums",id:"enums",depth:2},{text:"StoreType",id:"storetype",depth:3},{text:"parseStrType",id:"parsestrtype",depth:3}],title:"API Reference",headingTitle:"API Reference",frontmatter:{}}}}]);